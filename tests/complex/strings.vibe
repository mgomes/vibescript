# String utilities

def slugify(text)
  text.strip().downcase().split(" ").join("-")
end

def initials(name)
  parts = name.split(" ")
  out = ""
  for p in parts
    out = out + p[0]
  end
  out
end

def titleize(name)
  name.strip()
end

def wrap(text, width)
  words = text.split(" ")
  line = ""
  lines = []
  words.each do |w|
    if line == ""
      line = w
    elsif (line.size + 1 + w.size) <= width
      line = line + " " + w
    else
      lines = lines + [line]
      line = w
    end
  end
  if line != ""
    lines = lines + [line]
  end
  lines
end

def run
  {
    slug: slugify(" Hello World "),
    initials: initials("Ada Lovelace"),
    title: titleize("  vibes  "),
    wrapped: wrap("one two three four", 7)
  }
end
