# Typed examples with keywords

def announce(name: string, score: int, label: string? = nil) -> string
  if label == nil
    prefix = "score"
  else
    prefix = label
  end
  prefix + ": " + name + " => " + score
end

def adjust_time(base: time, delta: duration) -> time
  base + delta
end

def maybe_increment(value: int?, step: int = 1) -> int?
  if value == nil
    nil
  else
    value + step
  end
end

def user_hash(name: string, active: bool) -> hash
  { name: name, active: active }
end

def run
  base = Time.at(0)
  delta = 90.seconds
  {
    announce: announce("alex", 9, label: nil),
    adjusted: adjust_time(base, delta),
    maybe_nil: maybe_increment(nil),
    maybe_val: maybe_increment(5, step: 2),
    user: user_hash("alex", true)
  }
end
